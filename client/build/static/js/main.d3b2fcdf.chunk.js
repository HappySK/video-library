(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,t,a){},272:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(53),c=a.n(i),o=(a(130),a(294)),l=a(121),s=a(5),d=a(25),u=a(284),m=Object(u.a)((function(e){return{form:{textAlign:"center",margin:e.spacing(4)},label:{display:"block",fontWeight:"bold",margin:"auto",textAlign:"justify",width:"50%",color:"white"},input:{display:"block",width:"50%",margin:"auto",border:"2px solid white",outline:"none",height:"2.4rem",fontSize:"20px",color:"white",fontWeight:"bold",background:"none",borderRadius:"1rem",padding:"10px"},formcontrol:{margin:"10px"},error:{width:"50%",margin:"auto"},button:{margin:".3rem",background:"none",color:"white",outline:"none",border:"2px solid white",fontWeight:"bold",width:"5rem",height:"2rem",borderRadius:"1rem",cursor:"pointer"},heading:{textAlign:"center",color:"white",margin:"auto"},loading:{backgroundColor:"white",color:"seagreen"},hide:{display:"none"},show:{display:"block"}}})),b=a(19),j=a(34),g=a(2),h=function(e){return Object(g.jsx)("div",{style:{color:"white",fontWeight:"bold",margin:"auto",width:"50%"},children:e.children})},p=a(295),O=a(38),f=a.n(O),x=a(72),v=a(73),y=a.n(v),w="https://app-video-library.herokuapp.com/movie",N=function(e){return y.a.post("".concat(w,"/upload"),e,{headers:{"Content-Type":"multipart/form-data;"}})},F=function(e){var t=e.history,a=m(),n=Object(d.b)(),r=["image/png","image/jpeg","image/jpg"],i=["video/mp4"],c=j.b({moviename:j.c().required("Movie Name is required"),yearofrelease:j.c().required("Year of Release is required"),language:j.c().required("Language is required"),ImageFile:j.a().required("Thumbnail File is required").test("Supported Formats","Only Image files are accepted .jpg, .png",(function(e){return null!==e&&r.includes(e.type)})).test("fileSize","Image Should not exceed 500kb",(function(e){return null!==e&&e.size<=512e3})),VideoFile:j.a().required("Video is required").test("fileSize","Video Should not exceed 10MB",(function(e){return null!==e&&e.size<=10485760})).test("Supported Formats","Video must be a .mp4 format",(function(e){return null!==e&&i.includes(e.type)}))});return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(b.d,{initialValues:{moviename:"",yearofrelease:"",language:"",ImageFile:null,VideoFile:null},onSubmit:function(e){var a=new FormData;a.append("moviename",e.moviename),a.append("yearofrelease",e.yearofrelease),a.append("language",e.language),a.append("ImageFile",e.ImageFile),a.append("VideoFile",e.VideoFile),n(function(e,t){return function(){var a=Object(x.a)(f.a.mark((function a(n){var r,i;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,N(e);case 3:r=a.sent,i=r.data,n({type:"UPLOAD_MOVIE_DATA",payload:i}),t.push("/viewmovies"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}(a,t))},validationSchema:c,children:function(e){return Object(g.jsxs)(g.Fragment,{children:[e.isSubmitting&&Object(g.jsx)(p.a,{}),Object(g.jsxs)(b.c,{className:a.form,onSubmit:e.handleSubmit,children:[Object(g.jsx)("h1",{className:a.heading,children:"Movie Details Submission"}),Object(g.jsxs)("div",{className:a.formcontrol,children:[Object(g.jsx)("label",{htmlFor:"moviename",className:a.label,children:"Movie Name"}),Object(g.jsx)(b.b,{type:"text",className:a.input,name:"moviename",id:"moviename"}),Object(g.jsx)(b.a,{name:"moviename",component:h})]}),Object(g.jsxs)("div",{className:a.formcontrol,children:[Object(g.jsx)("label",{htmlFor:"yearofrelease",className:a.label,children:"Year Of Release"}),Object(g.jsx)(b.b,{type:"text",className:a.input,name:"yearofrelease",id:"yearofrelease"}),Object(g.jsx)(b.a,{name:"yearofrelease",component:h})]}),Object(g.jsxs)("div",{className:a.formcontrol,children:[Object(g.jsx)("label",{htmlFor:"language",className:a.label,children:"Language"}),Object(g.jsx)(b.b,{type:"text",className:a.input,name:"language",id:"language"}),Object(g.jsx)(b.a,{name:"language",component:h})]}),Object(g.jsxs)("div",{className:a.formcontrol,children:[Object(g.jsx)("label",{htmlFor:"ImageFile",className:a.label,children:"Thumbnail"}),Object(g.jsx)(b.b,{name:"ImageFile",children:function(e){var t=e.field,n=e.form;return Object(g.jsx)("input",{type:"file",name:t.name,id:t.name,className:a.input,onChange:function(e){n.setFieldValue(t.name,e.target.files[0])}})}}),Object(g.jsx)(b.a,{name:"ImageFile",component:h})]}),Object(g.jsxs)("div",{className:a.formcontrol,children:[Object(g.jsx)("label",{htmlFor:"VideoFile",className:a.label,children:"Video"}),Object(g.jsx)(b.b,{name:"VideoFile",children:function(e){var t=e.field,n=e.form;return Object(g.jsx)("input",{type:"file",name:t.name,id:t.name,className:a.input,onChange:function(e){n.setFieldValue(t.name,e.target.files[0])}})}}),Object(g.jsx)(b.a,{name:"VideoFile",component:h})]}),Object(g.jsxs)("div",{className:a.formcontrol,children:[Object(g.jsx)("button",{type:"submit",className:a.button,children:e.isSubmitting?"Loading":"Submit"}),Object(g.jsx)("button",{type:"reset",className:a.button,children:"Reset"})]})]})]})}})})},S=a(20),k=Object(u.a)((function(e){return{outline:{width:"100%",border:"2px solid blue"},image:{border:"2px solid white",margin:e.spacing(2)},heading:{textAlign:"center",width:"100%",color:"seagreen",fontWeight:"bold",fontSize:"20px",margin:e.spacing(3)},table:{width:"100%",textAlign:"center",border:"2px solid white",color:"seagreen",fontWeight:"bold"},cell:{color:"seagreen",fontSize:"18px",fontWeight:"bold"}}})),V=a(286),I=a(287),M=a(288),T=a(289),A=a(290),L=a(291),q=a(292),P=a(293),R=a(74),z=Object(u.a)((function(e){return{videos:{margin:e.spacing(3)}}})),C=a(120),D=a.n(C),E=function(e){var t=e.movie,a=z(),n=(t.moviename,t.yearofrelease,t.language,t.thumbnailLink),r=t.videoLink;return Object(g.jsx)("div",{className:a.videos,children:Object(g.jsx)(D.a,{width:320,height:240,url:r,controls:!0,light:n})})},H=function(){var e=k(),t=Object(d.b)();Object(n.useEffect)((function(){t(function(){var e=Object(x.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(w,"/getmovies"));case 3:a=e.sent,n=a.data,t({type:"GET_MOVIES",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);var a=[{Header:"Movie Name",accessor:"moviename"},{Header:"Year Of Release",accessor:"yearofrelease"},{Header:"Language",accessor:"language"},{Header:"Thumbnail",accessor:"thumbnailLink",Cell:function(t){var a=t.row;return Object(g.jsx)("img",{src:a.original.thumbnailLink,className:e.image,width:"300",height:"240",alt:"Thumbnail"})}},{Header:"Video",accessor:"videoLink",Cell:function(e){var t=e.row;return Object(g.jsx)(E,{movie:t.original})}}],r=Object(d.c)((function(e){return e.moviereducer})),i=Object(n.useMemo)((function(){return a}),[r]),c=Object(n.useMemo)((function(){return r}),[r]),o=Object(R.useTable)({data:c,columns:i},R.usePagination),l=o.getTableProps,s=o.getTableBodyProps,u=o.headerGroups,m=o.rows,b=o.prepareRow,j=o.state,h=o.setPageSize,p=j.pageSize;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(V.a,{component:I.a,children:[Object(g.jsx)(M.a,{variant:"h4",className:e.heading,children:"Movie Details"}),Object(g.jsxs)(T.a,Object(S.a)(Object(S.a)({},l()),{},{children:[Object(g.jsx)(A.a,{children:u.map((function(t){return Object(g.jsx)(L.a,Object(S.a)(Object(S.a)({},t.getHeaderGroupProps()),{},{children:t.headers.map((function(t){return Object(g.jsx)(q.a,Object(S.a)(Object(S.a)({},t.getHeaderProps()),{},{className:e.heading,children:t.render("Header")}))}))}))}))}),Object(g.jsx)(P.a,Object(S.a)(Object(S.a)({},s()),{},{children:m.map((function(t){return b(t),Object(g.jsx)(L.a,Object(S.a)(Object(S.a)({},t.getRowProps()),{},{children:t.cells.map((function(t){return Object(g.jsx)(q.a,Object(S.a)(Object(S.a)({},t.getCellProps()),{},{className:e.cell,children:t.render("Cell")}))}))}))}))}))]}))]}),"No Of Records per page ",Object(g.jsx)("select",{value:p,onChange:function(e){h(e.target.value)},children:[10,25,50,100].map((function(e){return Object(g.jsx)("option",{value:e,children:e})}))})]})},W=function(){Object(d.b)();return Object(g.jsx)("div",{children:Object(g.jsx)(l.a,{children:Object(g.jsxs)(o.a,{container:!0,spacing:3,justify:"center",alignItems:"center",children:[Object(g.jsx)(o.a,{item:!0,xs:12,md:12,lg:12,children:Object(g.jsx)(s.a,{exact:!0,path:"/",component:F})}),Object(g.jsx)(o.a,{item:!0,xs:12,md:12,lg:12,children:Object(g.jsx)(s.a,{exact:!0,path:"/viewmovies",component:H})})]})})})},_=a(37),G=a(122),B=a(123),Y=a(17),J=Object(_.combineReducers)({moviereducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIES":return t.payload;case"UPLOAD_MOVIE_DATA":return[].concat(Object(Y.a)(e),[t.payload]);default:return e}}}),U=Object(_.createStore)(J,Object(G.composeWithDevTools)(Object(_.applyMiddleware)(B.a)));c.a.render(Object(g.jsx)(d.a,{store:U,children:Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(W,{})})}),document.getElementById("root"))}},[[272,1,2]]]);
//# sourceMappingURL=main.d3b2fcdf.chunk.js.map