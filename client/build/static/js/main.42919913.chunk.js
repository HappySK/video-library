(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{134:function(e,t,n){},280:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(55),c=n.n(i),o=(n(134),n(302)),l=n(125),s=n(6),d=n(25),u=n(292),m=Object(u.a)((function(e){return{form:{textAlign:"center",margin:e.spacing(4)},label:{display:"block",fontWeight:"bold",margin:"auto",textAlign:"justify",width:"50%",color:"white"},input:{display:"block",width:"50%",margin:"auto",border:"2px solid white",outline:"none",height:"2.4rem",fontSize:"20px",color:"white",fontWeight:"bold",background:"none",borderRadius:"1rem",padding:"10px"},formcontrol:{margin:"10px"},error:{width:"50%",margin:"auto"},button:{margin:".3rem",background:"none",color:"white",outline:"none",border:"2px solid white",fontWeight:"bold",width:"5rem",height:"2rem",borderRadius:"1rem",cursor:"pointer"},heading:{textAlign:"center",color:"white",margin:"auto"},loading:{backgroundColor:"white",color:"seagreen"},hide:{display:"none"},show:{display:"block"}}})),b=n(20),j=n(33),h=n(2),g=function(e){return Object(h.jsx)("div",{style:{color:"white",fontWeight:"bold",margin:"auto",width:"50%"},children:e.children})},p=n(303),O=n(38),f=n.n(O),x=n(76),v=n(77),y=n.n(v),w=function(e){return y.a.post("http://localhost:5000/movie/upload",e,{headers:{"Content-Type":"multipart/form-data;"}})},N=function(e){var t=e.history,n=m(),a=Object(d.b)(),r=["image/png","image/jpeg","image/jpg"],i=["video/mp4"],c=j.b({moviename:j.c().required("Movie Name is required"),yearofrelease:j.c().required("Year of Release is required"),language:j.c().required("Language is required"),ImageFile:j.a().required("Thumbnail File is required").test("Supported Formats","Only Image files are accepted .jpg, .png",(function(e){return null!==e&&r.includes(e.type)})).test("fileSize","Image Should not exceed 500kb",(function(e){return null!==e&&e.size<=512e3})),VideoFile:j.a().required("Video is required").test("fileSize","Video Should not exceed 10MB",(function(e){return null!==e&&e.size<=10485760})).test("Supported Formats","Video must be a .mp4 format",(function(e){return null!==e&&i.includes(e.type)}))});return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(b.d,{initialValues:{moviename:"",yearofrelease:"",language:"",ImageFile:null,VideoFile:null},onSubmit:function(e){var n=new FormData;n.append("moviename",e.moviename),n.append("yearofrelease",e.yearofrelease),n.append("language",e.language),n.append("ImageFile",e.ImageFile),n.append("VideoFile",e.VideoFile),a(function(e,t){return function(){var n=Object(x.a)(f.a.mark((function n(a){var r,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w(e);case 3:r=n.sent,i=r.data,a({type:"UPLOAD_MOVIE_DATA",payload:i}),t.push("/viewmovies"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(n,t))},validationSchema:c,children:function(e){return Object(h.jsxs)(h.Fragment,{children:[e.isSubmitting&&Object(h.jsx)(p.a,{}),Object(h.jsxs)(b.c,{className:n.form,onSubmit:e.handleSubmit,children:[Object(h.jsx)("h1",{className:n.heading,children:"Movie Details Submission"}),Object(h.jsxs)("div",{className:n.formcontrol,children:[Object(h.jsx)("label",{htmlFor:"moviename",className:n.label,children:"Movie Name"}),Object(h.jsx)(b.b,{type:"text",className:n.input,name:"moviename",id:"moviename"}),Object(h.jsx)(b.a,{name:"moviename",component:g})]}),Object(h.jsxs)("div",{className:n.formcontrol,children:[Object(h.jsx)("label",{htmlFor:"yearofrelease",className:n.label,children:"Year Of Release"}),Object(h.jsx)(b.b,{type:"text",className:n.input,name:"yearofrelease",id:"yearofrelease"}),Object(h.jsx)(b.a,{name:"yearofrelease",component:g})]}),Object(h.jsxs)("div",{className:n.formcontrol,children:[Object(h.jsx)("label",{htmlFor:"language",className:n.label,children:"Language"}),Object(h.jsx)(b.b,{type:"text",className:n.input,name:"language",id:"language"}),Object(h.jsx)(b.a,{name:"language",component:g})]}),Object(h.jsxs)("div",{className:n.formcontrol,children:[Object(h.jsx)("label",{htmlFor:"ImageFile",className:n.label,children:"Thumbnail"}),Object(h.jsx)(b.b,{name:"ImageFile",children:function(e){var t=e.field,a=e.form;return Object(h.jsx)("input",{type:"file",name:t.name,id:t.name,className:n.input,onChange:function(e){a.setFieldValue(t.name,e.target.files[0])}})}}),Object(h.jsx)(b.a,{name:"ImageFile",component:g})]}),Object(h.jsxs)("div",{className:n.formcontrol,children:[Object(h.jsx)("label",{htmlFor:"VideoFile",className:n.label,children:"Video"}),Object(h.jsx)(b.b,{name:"VideoFile",children:function(e){var t=e.field,a=e.form;return Object(h.jsx)("input",{type:"file",name:t.name,id:t.name,className:n.input,onChange:function(e){a.setFieldValue(t.name,e.target.files[0])}})}}),Object(h.jsx)(b.a,{name:"VideoFile",component:g})]}),Object(h.jsxs)("div",{className:n.formcontrol,children:[Object(h.jsx)("button",{type:"submit",className:n.button,children:e.isSubmitting?"Loading":"Submit"}),Object(h.jsx)("button",{type:"reset",className:n.button,children:"Reset"})]})]})]})}})})},F=n(21),S=Object(u.a)((function(e){return{outline:{width:"100%",border:"2px solid blue"},image:{border:"2px solid white",margin:e.spacing(2)},heading:{textAlign:"center",width:"100%",color:"seagreen",fontWeight:"bold",fontSize:"20px",margin:e.spacing(3)},table:{width:"100%",textAlign:"center",border:"2px solid white",color:"seagreen",fontWeight:"bold"},cell:{color:"seagreen",fontSize:"18px",fontWeight:"bold"}}})),V=n(294),k=n(295),I=n(296),M=n(297),T=n(298),A=n(299),L=n(300),q=n(301),P=n(78),R=Object(u.a)((function(e){return{videos:{margin:e.spacing(3)}}})),z=n(124),C=n.n(z),D=function(e){var t=e.movie,n=R(),a=(t.moviename,t.yearofrelease,t.language,t.thumbnailLink),r=t.videoLink;return Object(h.jsx)("div",{className:n.videos,children:Object(h.jsx)(C.a,{width:320,height:240,url:r,controls:!0,light:a})})},E=function(){var e=S(),t=Object(d.b)();Object(a.useEffect)((function(){t(function(){var e=Object(x.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat("http://localhost:5000/movie","/getmovies"));case 3:n=e.sent,a=n.data,t({type:"GET_MOVIES",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);var n=[{Header:"Movie Name",accessor:"moviename"},{Header:"Year Of Release",accessor:"yearofrelease"},{Header:"Language",accessor:"language"},{Header:"Thumbnail",accessor:"thumbnailLink",Cell:function(t){var n=t.row;return Object(h.jsx)("img",{src:n.original.thumbnailLink,className:e.image,width:"300",height:"240",alt:"Thumbnail"})}},{Header:"Video",accessor:"videoLink",Cell:function(e){var t=e.row;return Object(h.jsx)(D,{movie:t.original})}}],r=Object(d.c)((function(e){return e.moviereducer})),i=Object(a.useMemo)((function(){return n}),[r]),c=Object(a.useMemo)((function(){return r}),[r]),o=Object(P.useTable)({data:c,columns:i},P.usePagination),l=o.getTableProps,s=o.getTableBodyProps,u=o.headerGroups,m=o.rows,b=o.prepareRow,j=o.state,g=o.setPageSize,p=j.pageSize;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(V.a,{component:k.a,children:[Object(h.jsx)(I.a,{variant:"h4",className:e.heading,children:"Movie Details"}),Object(h.jsxs)(M.a,Object(F.a)(Object(F.a)({},l()),{},{children:[Object(h.jsx)(T.a,{children:u.map((function(t){return Object(h.jsx)(A.a,Object(F.a)(Object(F.a)({},t.getHeaderGroupProps()),{},{children:t.headers.map((function(t){return Object(h.jsx)(L.a,Object(F.a)(Object(F.a)({},t.getHeaderProps()),{},{className:e.heading,children:t.render("Header")}))}))}))}))}),Object(h.jsx)(q.a,Object(F.a)(Object(F.a)({},s()),{},{children:m.map((function(t){return b(t),Object(h.jsx)(A.a,Object(F.a)(Object(F.a)({},t.getRowProps()),{},{children:t.cells.map((function(t){return Object(h.jsx)(L.a,Object(F.a)(Object(F.a)({},t.getCellProps()),{},{className:e.cell,children:t.render("Cell")}))}))}))}))}))]}))]}),"No Of Records per page ",Object(h.jsx)("select",{value:p,onChange:function(e){g(e.target.value)},children:[10,25,50,100].map((function(e){return Object(h.jsx)("option",{value:e,children:e})}))})]})},H=function(){Object(d.b)();return Object(h.jsx)("div",{children:Object(h.jsx)(l.a,{children:Object(h.jsxs)(o.a,{container:!0,spacing:3,justify:"center",alignItems:"center",children:[Object(h.jsx)(o.a,{item:!0,xs:12,md:12,lg:12,children:Object(h.jsx)(s.a,{exact:!0,path:"/",component:N})}),Object(h.jsx)(o.a,{item:!0,xs:12,md:12,lg:12,children:Object(h.jsx)(s.a,{exact:!0,path:"/viewmovies",component:E})})]})})})},W=n(37),_=n(126),G=n(127),B=n(17),Y=Object(W.combineReducers)({moviereducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIES":return t.payload;case"UPLOAD_MOVIE_DATA":return[].concat(Object(B.a)(e),[t.payload]);default:return e}}}),J=Object(W.createStore)(Y,Object(_.composeWithDevTools)(Object(W.applyMiddleware)(G.a)));c.a.render(Object(h.jsx)(d.a,{store:J,children:Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(H,{})})}),document.getElementById("root"))}},[[280,1,2]]]);
//# sourceMappingURL=main.42919913.chunk.js.map