(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,t,n){},272:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(29),c=n.n(r),o=(n(130),n(296)),l=n(121),s=n(8),d=n(25),u=n(286),m=Object(u.a)((function(e){return{form:{textAlign:"center",margin:e.spacing(4)},label:{display:"block",fontWeight:"bold",margin:"auto",textAlign:"justify",width:"50%",color:"white"},input:{display:"block",width:"50%",margin:"auto",border:"2px solid white",outline:"none",height:"2.4rem",fontSize:"20px",color:"white",fontWeight:"bold",background:"none",borderRadius:"1rem",padding:"10px"},formcontrol:{margin:"10px"},error:{width:"50%",margin:"auto"},button:{margin:".3rem",background:"none",color:"white",outline:"none",border:"2px solid white",fontWeight:"bold",width:"5rem",height:"2rem",borderRadius:"1rem",cursor:"pointer"},heading:{textAlign:"center",color:"white",margin:"auto"},loading:{backgroundColor:"white",color:"seagreen"},hide:{display:"none"},show:{display:"block"}}})),b=n(19),j=n(35),g=n(2),p=function(e){return Object(g.jsx)("div",{style:{color:"white",fontWeight:"bold",margin:"auto",width:"50%"},children:e.children})},h=n(298),O=n(40),f=n.n(O),x=n(72),v=n(73),y=n.n(v),w="https://app-video-library.herokuapp.com/movie",N=function(e){return y.a.post("".concat(w,"/upload"),e,{headers:{"Content-Type":"multipart/form-data;"}})},F=function(e){var t=e.history,n=m(),a=Object(d.b)(),i=["image/png","image/jpeg","image/jpg"],r=["video/mp4"],c=j.b({moviename:j.c().required("Movie Name is required"),yearofrelease:j.c().required("Year of Release is required"),language:j.c().required("Language is required"),ImageFile:j.a().required("Thumbnail File is required").test("Supported Formats","Only Image files are accepted .jpg, .png",(function(e){return null!==e&&i.includes(e.type)})).test("fileSize","Image Should not exceed 500kb",(function(e){return null!==e&&e.size<=512e3})),VideoFile:j.a().required("Video is required").test("fileSize","Video Should not exceed 10MB",(function(e){return null!==e&&e.size<=10485760})).test("Supported Formats","Video must be a .mp4 format",(function(e){return null!==e&&r.includes(e.type)}))});return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(b.d,{initialValues:{moviename:"",yearofrelease:"",language:"",ImageFile:null,VideoFile:null},onSubmit:function(e){var n=new FormData;n.append("moviename",e.moviename),n.append("yearofrelease",e.yearofrelease),n.append("language",e.language),n.append("ImageFile",e.ImageFile),n.append("VideoFile",e.VideoFile),a(function(e,t){return function(){var n=Object(x.a)(f.a.mark((function n(a){var i,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N(e);case 3:i=n.sent,r=i.data,a({type:"UPLOAD_MOVIE_DATA",payload:r}),t.push("/viewmovies"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(n,t))},validationSchema:c,children:function(e){return Object(g.jsxs)(g.Fragment,{children:[e.isSubmitting&&Object(g.jsx)(h.a,{}),Object(g.jsxs)(b.c,{className:n.form,onSubmit:e.handleSubmit,children:[Object(g.jsx)("h1",{className:n.heading,children:"Movie Details Submission"}),Object(g.jsxs)("div",{className:n.formcontrol,children:[Object(g.jsx)("label",{htmlFor:"moviename",className:n.label,children:"Movie Name"}),Object(g.jsx)(b.b,{type:"text",className:n.input,name:"moviename",id:"moviename"}),Object(g.jsx)(b.a,{name:"moviename",component:p})]}),Object(g.jsxs)("div",{className:n.formcontrol,children:[Object(g.jsx)("label",{htmlFor:"yearofrelease",className:n.label,children:"Year Of Release"}),Object(g.jsx)(b.b,{type:"text",className:n.input,name:"yearofrelease",id:"yearofrelease"}),Object(g.jsx)(b.a,{name:"yearofrelease",component:p})]}),Object(g.jsxs)("div",{className:n.formcontrol,children:[Object(g.jsx)("label",{htmlFor:"language",className:n.label,children:"Language"}),Object(g.jsx)(b.b,{type:"text",className:n.input,name:"language",id:"language"}),Object(g.jsx)(b.a,{name:"language",component:p})]}),Object(g.jsxs)("div",{className:n.formcontrol,children:[Object(g.jsx)("label",{htmlFor:"ImageFile",className:n.label,children:"Thumbnail"}),Object(g.jsx)(b.b,{name:"ImageFile",children:function(e){var t=e.field,a=e.form;return Object(g.jsx)("input",{type:"file",name:t.name,id:t.name,className:n.input,onChange:function(e){a.setFieldValue(t.name,e.target.files[0])}})}}),Object(g.jsx)(b.a,{name:"ImageFile",component:p})]}),Object(g.jsxs)("div",{className:n.formcontrol,children:[Object(g.jsx)("label",{htmlFor:"VideoFile",className:n.label,children:"Video"}),Object(g.jsx)(b.b,{name:"VideoFile",children:function(e){var t=e.field,a=e.form;return Object(g.jsx)("input",{type:"file",name:t.name,id:t.name,className:n.input,onChange:function(e){a.setFieldValue(t.name,e.target.files[0])}})}}),Object(g.jsx)(b.a,{name:"VideoFile",component:p})]}),Object(g.jsxs)("div",{className:n.formcontrol,children:[Object(g.jsx)("button",{type:"submit",className:n.button,children:e.isSubmitting?"Loading":"Submit"}),Object(g.jsx)("button",{type:"reset",className:n.button,children:"Reset"})]})]})]})}})})},S=n(20),k=Object(u.a)((function(e){return{outline:{width:"100%",border:"2px solid blue"},image:{border:"2px solid white",margin:e.spacing(2)},heading:{textAlign:"center",width:"100%",color:"seagreen",fontWeight:"bold",fontSize:"20px",margin:e.spacing(3)},table:{width:"100%",textAlign:"center",border:"2px solid white",color:"seagreen",fontWeight:"bold"},cell:{color:"seagreen",fontSize:"18px",fontWeight:"bold"},pagination:{margin:e.spacing(2),display:"flex",justifyContent:"space-evenly",alignItems:"center"}}})),V=n(288),I=n(289),P=n(290),M=n(291),T=n(292),C=n(293),A=n(294),L=n(295),q=n(297),R=n(74),z=Object(u.a)((function(e){return{videos:{margin:e.spacing(3)}}})),D=n(120),E=n.n(D),H=function(e){var t=e.movie,n=z(),a=(t.moviename,t.yearofrelease,t.language,t.thumbnailLink),i=t.videoLink;return Object(g.jsx)("div",{className:n.videos,children:Object(g.jsx)(E.a,{width:320,height:240,url:i,controls:!0,light:a})})},W=function(){var e=k(),t=Object(d.b)();Object(a.useEffect)((function(){t(function(){var e=Object(x.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat(w,"/getmovies"));case 3:n=e.sent,a=n.data,t({type:"GET_MOVIES",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);var n=[{Header:"Movie Name",accessor:"moviename"},{Header:"Year Of Release",accessor:"yearofrelease"},{Header:"Language",accessor:"language"},{Header:"Thumbnail",accessor:"thumbnailLink",Cell:function(t){var n=t.row;return Object(g.jsx)("img",{src:n.original.thumbnailLink,className:e.image,width:"300",height:"240",alt:"Thumbnail"})}},{Header:"Video",accessor:"videoLink",Cell:function(e){var t=e.row;return Object(g.jsx)(H,{movie:t.original})}}],i=Object(d.c)((function(e){return e.moviereducer})),r=Object(a.useMemo)((function(){return n}),[i]),c=Object(a.useMemo)((function(){return i}),[i]),o=Object(R.useTable)({data:c,columns:r},R.usePagination),l=o.getTableProps,s=o.getTableBodyProps,u=o.headerGroups,m=(o.rows,o.prepareRow),b=o.state,j=o.setPageSize,p=o.previousPage,h=o.nextPage,O=o.page,v=o.canPreviousPage,N=o.canNextPage,F=b.pageIndex;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(V.a,{component:I.a,children:[Object(g.jsx)(P.a,{variant:"h4",className:e.heading,children:"Movie Details"}),Object(g.jsxs)(M.a,Object(S.a)(Object(S.a)({},l()),{},{children:[Object(g.jsx)(T.a,{children:u.map((function(t){return Object(g.jsx)(C.a,Object(S.a)(Object(S.a)({},t.getHeaderGroupProps()),{},{children:t.headers.map((function(t){return Object(g.jsx)(A.a,Object(S.a)(Object(S.a)({},t.getHeaderProps()),{},{className:e.heading,children:t.render("Header")}))}))}))}))}),Object(g.jsx)(L.a,Object(S.a)(Object(S.a)({},s()),{},{children:O.map((function(t){return m(t),Object(g.jsx)(C.a,Object(S.a)(Object(S.a)({},t.getRowProps()),{},{children:t.cells.map((function(t){return Object(g.jsx)(A.a,Object(S.a)(Object(S.a)({},t.getCellProps()),{},{className:e.cell,children:t.render("Cell")}))}))}))}))}))]}))]}),Object(g.jsxs)("div",{className:e.pagination,children:[Object(g.jsxs)("div",{children:["No Of Records per page ",Object(g.jsx)("select",{value:F,onChange:function(e){j(e.target.value)},children:[10,25,50,100].map((function(e){return Object(g.jsx)("option",{value:e,children:e},e)}))})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)(q.a,{variant:"contained",onClick:function(){return p()},disabled:!v,children:"Prev"}),Object(g.jsx)(q.a,{variant:"contained",onClick:function(){return h()},disabled:!N,children:"Next"})]})]})]})},_=function(){Object(d.b)();return Object(g.jsx)("div",{children:Object(g.jsx)(l.a,{children:Object(g.jsxs)(o.a,{container:!0,spacing:3,justify:"center",alignItems:"center",children:[Object(g.jsx)(o.a,{item:!0,xs:12,md:12,lg:12,children:Object(g.jsx)(s.a,{exact:!0,path:"/",component:F})}),Object(g.jsx)(o.a,{item:!0,xs:12,md:12,lg:12,children:Object(g.jsx)(s.a,{exact:!0,path:"/viewmovies",component:W})})]})})})},G=n(39),B=n(122),Y=n(123),J=n(17),U=Object(G.combineReducers)({moviereducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIES":return t.payload;case"UPLOAD_MOVIE_DATA":return[].concat(Object(J.a)(e),[t.payload]);default:return e}}}),K=Object(G.createStore)(U,Object(B.composeWithDevTools)(Object(G.applyMiddleware)(Y.a)));c.a.render(Object(g.jsx)(d.a,{store:K,children:Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(_,{})})}),document.getElementById("root"))}},[[272,1,2]]]);
//# sourceMappingURL=main.3d789b9f.chunk.js.map